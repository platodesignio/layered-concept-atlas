{
  "permissions": {
    "allow": [
      "Bash(python3:*)",
      "Bash(/tmp/create-lca.sh:*)",
      "Bash(__NEW_LINE_de5cff629140cc7e__ chmod +x /tmp/create-lca.sh)",
      "Bash(bash:*)",
      "Bash(ls:*)",
      "Bash(tee:*)",
      "Bash(/dev/null << 'ENDBUILD'\n#!/usr/bin/env bash\n# create-lca.sh  --  Layered Concept Atlas full project scaffold\nset -e\n\nROOT=\"/tmp/lca\"\n\necho \"==> Creating directories...\"\nmkdir -p \"$ROOT/prisma/migrations/0001_init\" \"$ROOT/scripts\" \"$ROOT/public\"\nmkdir -p \"$ROOT/src/app/\\(auth\\)/login\" \"$ROOT/src/app/\\(auth\\)/register\"\nmkdir -p \"$ROOT/src/app/concepts/[slug]\"\nmkdir -p \"$ROOT/src/app/analysis/[runId]\"\nmkdir -p \"$ROOT/src/app/compare\" \"$ROOT/src/app/mapping\"\nmkdir -p \"$ROOT/src/app/admin/concepts/new\"\nmkdir -p \"$ROOT/src/app/admin/concepts/[id]/edit\"\nmkdir -p \"$ROOT/src/app/admin/layers\" \"$ROOT/src/app/admin/dictionary\"\nmkdir -p \"$ROOT/src/app/admin/mapping-rules\" \"$ROOT/src/app/admin/feedback\"\nmkdir -p \"$ROOT/src/app/admin/audit\" \"$ROOT/src/app/admin/packs\"\nmkdir -p \"$ROOT/src/app/api/auth/login\" \"$ROOT/src/app/api/auth/register\" \"$ROOT/src/app/api/auth/logout\"\nmkdir -p \"$ROOT/src/app/api/me\"\nmkdir -p \"$ROOT/src/app/api/concepts/[id]\"\nmkdir -p \"$ROOT/src/app/api/layers/[id]\"\nmkdir -p \"$ROOT/src/app/api/dictionary/[id]\"\nmkdir -p \"$ROOT/src/app/api/mapping-rules/[id]\"\nmkdir -p \"$ROOT/src/app/api/analysis\" \"$ROOT/src/app/api/compare\" \"$ROOT/src/app/api/mapping\"\nmkdir -p \"$ROOT/src/app/api/runs/[runId]\"\nmkdir -p \"$ROOT/src/app/api/feedback\" \"$ROOT/src/app/api/audit\" \"$ROOT/src/app/api/packs\"\nmkdir -p \"$ROOT/src/components/ui\" \"$ROOT/src/components/layout\"\nmkdir -p \"$ROOT/src/components/concepts\" \"$ROOT/src/components/analysis\" \"$ROOT/src/components/compare\"\nmkdir -p \"$ROOT/src/lib/engine\" \"$ROOT/src/lib/validators\"\n\necho \"==> Writing config files...\"\n\n# package.json  \\(no single quotes inside -- safe with quoted heredoc\\)\ntee \"$ROOT/package.json\" > /dev/null << 'JSON'\n{\n  \"name\": \"layered-concept-atlas\",\n  \"version\": \"1.0.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"db:migrate\": \"prisma migrate deploy\",\n    \"db:seed\": \"tsx prisma/seed.ts\",\n    \"db:generate\": \"prisma generate\",\n    \"db:studio\": \"prisma studio\",\n    \"smoke\": \"tsx scripts/smoke-test.ts\",\n    \"postinstall\": \"prisma generate\"\n  },\n  \"dependencies\": {\n    \"@prisma/client\": \"^5.14.0\",\n    \"@radix-ui/react-dialog\": \"^1.1.1\",\n    \"@radix-ui/react-dropdown-menu\": \"^2.1.1\",\n    \"@radix-ui/react-label\": \"^2.1.0\",\n    \"@radix-ui/react-select\": \"^2.1.1\",\n    \"@radix-ui/react-separator\": \"^1.1.0\",\n    \"@radix-ui/react-slot\": \"^1.1.0\",\n    \"@radix-ui/react-switch\": \"^1.1.0\",\n    \"@radix-ui/react-tabs\": \"^1.1.0\",\n    \"@radix-ui/react-toast\": \"^1.2.1\",\n    \"@radix-ui/react-tooltip\": \"^1.1.2\",\n    \"bcryptjs\": \"^2.4.3\",\n    \"jose\": \"^5.4.1\",\n    \"lucide-react\": \"^0.395.0\",\n    \"next\": \"14.2.4\",\n    \"react\": \"^18.3.1\",\n    \"react-dom\": \"^18.3.1\",\n    \"zod\": \"^3.23.8\"\n  },\n  \"devDependencies\": {\n    \"@types/bcryptjs\": \"^2.4.6\",\n    \"@types/node\": \"^20.14.2\",\n    \"@types/react\": \"^18.3.3\",\n    \"@types/react-dom\": \"^18.3.0\",\n    \"autoprefixer\": \"^10.4.19\",\n    \"eslint\": \"^8.57.0\",\n    \"eslint-config-next\": \"14.2.4\",\n    \"postcss\": \"^8.4.38\",\n    \"prisma\": \"^5.14.0\",\n    \"tailwindcss\": \"^3.4.4\",\n    \"tsx\": \"^4.15.6\",\n    \"typescript\": \"^5.4.5\"\n  }\n}\nJSON\n\n# tsconfig.json\ntee \"$ROOT/tsconfig.json\" > /dev/null << 'JSON'\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2017\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"incremental\": true,\n    \"plugins\": [{ \"name\": \"next\" }],\n    \"paths\": { \"@/*\": [\"./src/*\"] }\n  },\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\n  \"exclude\": [\"node_modules\"]\n}\nJSON\n\n# next.config.ts\ntee \"$ROOT/next.config.ts\" > /dev/null << 'TS'\nimport type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {\n  experimental: {},\n  images: {\n    remotePatterns: [],\n  },\n};\n\nexport default nextConfig;\nTS\n\n# postcss.config.js\ntee \"$ROOT/postcss.config.js\" > /dev/null << 'JS'\nmodule.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\nJS\n\n# .eslintrc.json\ntee \"$ROOT/.eslintrc.json\" > /dev/null << 'JSON'\n{\n  \"extends\": [\"next/core-web-vitals\"],\n  \"rules\": {\n    \"@typescript-eslint/no-unused-vars\": [\"warn\", { \"argsIgnorePattern\": \"^_\" }],\n    \"@typescript-eslint/no-explicit-any\": \"warn\"\n  }\n}\nJSON\n\n# tailwind.config.ts  -- contains single quotes, so written via Python\npython3 - \"$ROOT/tailwind.config.ts\" << 'PY'\nimport sys\nbody = '''import type { Config } from \"tailwindcss\";\n\nconst config: Config = {\n  content: [\n    \"./src/pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./src/components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./src/app/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n    extend: {\n      colors: {\n        brand: {\n          50:  \"#eff6ff\",\n          100: \"#dbeafe\",\n          500: \"#3b82f6\",\n          600: \"#2563eb\",\n          700: \"#1d4ed8\",\n          900: \"#1e3a8a\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var\\(--font-inter\\)\", \"system-ui\", \"sans-serif\"],\n      },\n    },\n  },\n  plugins: [],\n};\n\nexport default config;\n'''\nopen\\(sys.argv[1], 'w', newline='\\\\n'\\).write\\(body\\)\nPY\n\necho \"==> Writing placeholder files...\"\nph\\(\\)    { printf '// placeholder\\\\n' > \"$1\"; }\nphcss\\(\\) { printf '/* placeholder */\\\\n' > \"$1\"; }\nphsql\\(\\) { printf '-- placeholder\\\\n' > \"$1\"; }\nphsvg\\(\\) { printf '<svg xmlns=\"http://www.w3.org/2000/svg\"/>\\\\n' > \"$1\"; }\nphmd\\(\\)  { printf '%s\\\\n' '# placeholder' > \"$1\"; }\nphtoml\\(\\){ printf '%s\\\\n' '# placeholder' > \"$1\"; }\nphenv\\(\\) { printf '%s\\\\n' '# placeholder' > \"$1\"; }\n\nphenv  \"$ROOT/.env.example\"\nphmd   \"$ROOT/README.md\"\nphsvg  \"$ROOT/public/favicon.svg\"\n\nph     \"$ROOT/prisma/schema.prisma\"\nph     \"$ROOT/prisma/seed.ts\"\nphtoml \"$ROOT/prisma/migrations/migration_lock.toml\"\nphsql  \"$ROOT/prisma/migrations/0001_init/migration.sql\"\n\nph \"$ROOT/scripts/smoke-test.ts\"\n\nph    \"$ROOT/src/app/layout.tsx\"\nph    \"$ROOT/src/app/page.tsx\"\nphcss \"$ROOT/src/app/globals.css\"\nph    \"$ROOT/src/app/\\(auth\\)/login/page.tsx\"\nph    \"$ROOT/src/app/\\(auth\\)/register/page.tsx\"\nph    \"$ROOT/src/app/concepts/page.tsx\"\nph    \"$ROOT/src/app/concepts/[slug]/page.tsx\"\nph    \"$ROOT/src/app/analysis/page.tsx\"\nph    \"$ROOT/src/app/analysis/[runId]/page.tsx\"\nph    \"$ROOT/src/app/compare/page.tsx\"\nph    \"$ROOT/src/app/mapping/page.tsx\"\nph    \"$ROOT/src/app/admin/layout.tsx\"\nph    \"$ROOT/src/app/admin/page.tsx\"\nph    \"$ROOT/src/app/admin/concepts/page.tsx\"\nph    \"$ROOT/src/app/admin/concepts/new/page.tsx\"\nph    \"$ROOT/src/app/admin/concepts/[id]/edit/page.tsx\"\nph    \"$ROOT/src/app/admin/layers/page.tsx\"\nph    \"$ROOT/src/app/admin/dictionary/page.tsx\"\nph    \"$ROOT/src/app/admin/mapping-rules/page.tsx\"\nph    \"$ROOT/src/app/admin/feedback/page.tsx\"\nph    \"$ROOT/src/app/admin/audit/page.tsx\"\nph    \"$ROOT/src/app/admin/packs/page.tsx\"\n\nph \"$ROOT/src/app/api/auth/login/route.ts\"\nph \"$ROOT/src/app/api/auth/register/route.ts\"\nph \"$ROOT/src/app/api/auth/logout/route.ts\"\nph \"$ROOT/src/app/api/me/route.ts\"\nph \"$ROOT/src/app/api/concepts/route.ts\"\nph \"$ROOT/src/app/api/concepts/[id]/route.ts\"\nph \"$ROOT/src/app/api/layers/route.ts\"\nph \"$ROOT/src/app/api/layers/[id]/route.ts\"\nph \"$ROOT/src/app/api/dictionary/route.ts\"\nph \"$ROOT/src/app/api/dictionary/[id]/route.ts\"\nph \"$ROOT/src/app/api/mapping-rules/route.ts\"\nph \"$ROOT/src/app/api/mapping-rules/[id]/route.ts\"\nph \"$ROOT/src/app/api/analysis/route.ts\"\nph \"$ROOT/src/app/api/compare/route.ts\"\nph \"$ROOT/src/app/api/mapping/route.ts\"\nph \"$ROOT/src/app/api/runs/[runId]/route.ts\"\nph \"$ROOT/src/app/api/feedback/route.ts\"\nph \"$ROOT/src/app/api/audit/route.ts\"\nph \"$ROOT/src/app/api/packs/route.ts\"\n\nfor name in Button Input Textarea Badge Card Modal Toast ToastProvider Skeleton Spinner Pagination Tabs EmptyState Table; do\n  ph \"$ROOT/src/components/ui/${name}.tsx\"\ndone\n\nph \"$ROOT/src/components/layout/Header.tsx\"\nph \"$ROOT/src/components/layout/Footer.tsx\"\nph \"$ROOT/src/components/layout/FeedbackButton.tsx\"\n\nph \"$ROOT/src/components/concepts/ConceptCard.tsx\"\nph \"$ROOT/src/components/concepts/LayerTraversal.tsx\"\nph \"$ROOT/src/components/analysis/ScoreBar.tsx\"\nph \"$ROOT/src/components/analysis/HighlightView.tsx\"\nph \"$ROOT/src/components/compare/CompareGrid.tsx\"\n\nph \"$ROOT/src/lib/prisma.ts\"\nph \"$ROOT/src/lib/auth.ts\"\nph \"$ROOT/src/lib/session.ts\"\nph \"$ROOT/src/lib/csrf.ts\"\nph \"$ROOT/src/lib/rateLimit.ts\"\nph \"$ROOT/src/lib/audit.ts\"\nph \"$ROOT/src/lib/export.ts\"\nph \"$ROOT/src/lib/utils.ts\"\n\nph \"$ROOT/src/lib/engine/normalize.ts\"\nph \"$ROOT/src/lib/engine/scorer.ts\"\nph \"$ROOT/src/lib/engine/highlighter.ts\"\nph \"$ROOT/src/lib/engine/mapper.ts\"\n\nph \"$ROOT/src/lib/validators/auth.ts\"\nph \"$ROOT/src/lib/validators/concept.ts\"\nph \"$ROOT/src/lib/validators/analysis.ts\"\nph \"$ROOT/src/lib/validators/admin.ts\"\n\necho \"==> Done. File count:\"\nfind \"$ROOT\" -type f | wc -l\nENDBUILD)",
      "Bash(chmod:*)",
      "Bash(printf:*)",
      "Bash({)",
      "Bash(})",
      "Bash(for f in \"ph \"\"$ROOT/src/app/\\(auth\\)/login/page.tsx\"\"\" \"ph \"\"$ROOT/src/app/\\(auth\\)/register/page.tsx\"\"\")",
      "Bash(do)",
      "Bash(done)",
      "Bash(for d in \"prisma/migrations/0001_init\" \"scripts\" \"public\" \"src/app/\\(auth\\)/login\" \"src/app/\\(auth\\)/register\" \"src/app/concepts/[slug]\" \"src/app/analysis/[runId]\" \"src/app/compare\" \"src/app/mapping\" \"src/app/admin/concepts/new\" \"src/app/admin/concepts/[id]/edit\" \"src/app/admin/layers\" \"src/app/admin/dictionary\" \"src/app/admin/mapping-rules\" \"src/app/admin/feedback\" \"src/app/admin/audit\" \"src/app/admin/packs\" \"src/app/api/auth/login\" \"src/app/api/auth/register\" \"src/app/api/auth/logout\" \"src/app/api/me\" \"src/app/api/concepts/[id]\" \"src/app/api/layers/[id]\" \"src/app/api/dictionary/[id]\" \"src/app/api/mapping-rules/[id]\" \"src/app/api/analysis\" \"src/app/api/compare\" \"src/app/api/mapping\" \"src/app/api/runs/[runId]\" \"src/app/api/feedback\" \"src/app/api/audit\" \"src/app/api/packs\" \"src/components/ui\" \"src/components/layout\" \"src/components/concepts\" \"src/components/analysis\" \"src/components/compare\" \"src/lib/engine\" \"src/lib/validators\")",
      "Bash(for f in \"phenv  \"\"$ROOT/.env.example\"\"\" \"phmd   \"\"$ROOT/README.md\"\"\" \"phsvg  \"\"$ROOT/public/favicon.svg\"\"\" \"ph     \"\"$ROOT/prisma/schema.prisma\"\"\" \"ph     \"\"$ROOT/prisma/seed.ts\"\"\" \"phtoml \"\"$ROOT/prisma/migrations/migration_lock.toml\"\"\" \"phsql  \"\"$ROOT/prisma/migrations/0001_init/migration.sql\"\"\" \"ph \"\"$ROOT/scripts/smoke-test.ts\"\"\" \"ph    \"\"$ROOT/src/app/layout.tsx\"\"\" \"ph    \"\"$ROOT/src/app/page.tsx\"\"\" \"phcss \"\"$ROOT/src/app/globals.css\"\"\" \"ph    \"\"$ROOT/src/app/\\(auth\\)/login/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/\\(auth\\)/register/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/concepts/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/concepts/[slug]/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/analysis/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/analysis/[runId]/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/compare/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/mapping/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/layout.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/concepts/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/concepts/new/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/concepts/[id]/edit/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/layers/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/dictionary/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/mapping-rules/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/feedback/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/audit/page.tsx\"\"\" \"ph    \"\"$ROOT/src/app/admin/packs/page.tsx\"\"\" \"ph \"\"$ROOT/src/app/api/auth/login/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/auth/register/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/auth/logout/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/me/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/concepts/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/concepts/[id]/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/layers/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/layers/[id]/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/dictionary/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/dictionary/[id]/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/mapping-rules/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/mapping-rules/[id]/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/analysis/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/compare/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/mapping/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/runs/[runId]/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/feedback/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/audit/route.ts\"\"\" \"ph \"\"$ROOT/src/app/api/packs/route.ts\"\"\" \"ph \"\"$ROOT/src/components/layout/Header.tsx\"\"\" \"ph \"\"$ROOT/src/components/layout/Footer.tsx\"\"\" \"ph \"\"$ROOT/src/components/layout/FeedbackButton.tsx\"\"\" \"ph \"\"$ROOT/src/components/concepts/ConceptCard.tsx\"\"\" \"ph \"\"$ROOT/src/components/concepts/LayerTraversal.tsx\"\"\" \"ph \"\"$ROOT/src/components/analysis/ScoreBar.tsx\"\"\" \"ph \"\"$ROOT/src/components/analysis/HighlightView.tsx\"\"\" \"ph \"\"$ROOT/src/components/compare/CompareGrid.tsx\"\"\" \"ph \"\"$ROOT/src/lib/prisma.ts\"\"\" \"ph \"\"$ROOT/src/lib/auth.ts\"\"\" \"ph \"\"$ROOT/src/lib/session.ts\"\"\" \"ph \"\"$ROOT/src/lib/csrf.ts\"\"\" \"ph \"\"$ROOT/src/lib/rateLimit.ts\"\"\" \"ph \"\"$ROOT/src/lib/audit.ts\"\"\" \"ph \"\"$ROOT/src/lib/export.ts\"\"\" \"ph \"\"$ROOT/src/lib/utils.ts\"\"\" \"ph \"\"$ROOT/src/lib/engine/normalize.ts\"\"\" \"ph \"\"$ROOT/src/lib/engine/scorer.ts\"\"\" \"ph \"\"$ROOT/src/lib/engine/highlighter.ts\"\"\" \"ph \"\"$ROOT/src/lib/engine/mapper.ts\"\"\" \"ph \"\"$ROOT/src/lib/validators/auth.ts\"\"\" \"ph \"\"$ROOT/src/lib/validators/concept.ts\"\"\" \"ph \"\"$ROOT/src/lib/validators/analysis.ts\"\"\" \"ph \"\"$ROOT/src/lib/validators/admin.ts\"\"\")",
      "Bash(__NEW_LINE_96b64a14bb6d6633__ printf \"for name in Button Input Textarea Badge Card Modal Toast ToastProvider Skeleton Spinner Pagination Tabs EmptyState Table; do\\\\n\")",
      "Bash(__NEW_LINE_96b64a14bb6d6633__ chmod +x /tmp/create-lca.sh)",
      "Bash(xxd:*)",
      "Bash(gh auth status:*)",
      "Bash(git --version)",
      "Bash(git init:*)",
      "Bash(git add:*)"
    ]
  }
}
